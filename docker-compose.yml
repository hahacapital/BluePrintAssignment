version: '3.9'
services:
  avalanchego:
    image: avaplatform/avalanchego:v1.11.7
    container_name: avalanchego
    restart: unless-stopped
    entrypoint: ["/avalanchego/build/avalanchego"]
    volumes:
      - ./config/config.json:/root/.avalanchego/config.json:ro
      - ./data:/root/.avalanchego
    ports:
      - "9650:9650"   # HTTP API (C-Chain, Info, Health)
      - "9651:9651"   # Staking port
    environment:
      - AVALANCHEGO_METRICS_ENABLED=true
    command:
      - --config-file=/root/.avalanchego/config.json
      - --public-ip=${PUBLIC_IP}
